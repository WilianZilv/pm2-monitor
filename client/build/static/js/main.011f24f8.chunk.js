(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(40),a=n.n(s),i=(n(47),n(17)),o=n(7),u=n(2),l=n(41),j=n(0);function d(e){var t=e.columns,n=e.data,c=Object(l.useTable)({columns:t,data:n}),r=c.getTableProps,s=c.getTableBodyProps,a=c.headerGroups,i=c.rows,o=c.prepareRow;return t&&n?Object(j.jsxs)("table",Object(u.a)(Object(u.a)({},r()),{},{children:[Object(j.jsx)("thead",{children:a.map((function(e){return Object(j.jsx)("tr",Object(u.a)(Object(u.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(u.a)(Object(u.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(u.a)(Object(u.a)({},s()),{},{children:i.map((function(e){return o(e),Object(j.jsx)("tr",Object(u.a)(Object(u.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(u.a)(Object(u.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})):Object(j.jsx)(j.Fragment,{})}n(52),n(53);function b(e){var t=e.data,n=e.ids,r=e.onFilter,s=Object(c.useMemo)((function(){return function(e){var t=e.ids,n=e.onFilter;return[{Header:"ID",accessor:"pm_id"},{Header:"Nome",accessor:"name"},{Header:"RAM",accessor:"monit.memory",Cell:function(e){return(e.value/1e6).toFixed(1)+"MB"}},{Header:"CPU",accessor:"monit.cpu",Cell:function(e){var t=e.value;return String(t)+" %"}},{Header:"Status",accessor:"pm2_env.status",Cell:function(e){var t=e.value;return Object(j.jsx)("div",{className:"status-col",children:Object(j.jsx)("span",{className:"dot ".concat("online"===t?t:"")})})}},{Header:"Logs",Cell:function(e){var c=e.row;return Object(j.jsx)("input",{className:"checkbox",type:"checkbox",checked:t.includes(c.values.pm_id),onChange:function(){return n(c.values.pm_id)}})}}]}({ids:n,onFilter:r})}),[n]);return Object(j.jsxs)("div",{className:"processes-table-container",children:[Object(j.jsx)("h1",{children:"Processos"}),Object(j.jsx)(d,{columns:s,data:t})]})}n(54);function O(e){var t=e.data;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"process-logs-item "+t.channel,children:[Object(j.jsxs)("div",{className:"process-logs-top-bar",children:[Object(j.jsxs)("strong",{className:"process-logs-item-title",children:[t.pname,":"," "]}),Object(j.jsx)("strong",{children:t.time})]}),t.data]})})}function f(e){var t=e.data,n=Object(c.useMemo)((function(){var e=Object(o.a)(t);return e.slice(0,100),e}),[t]);return Object(c.useEffect)((function(){document.getElementsByClassName("process-logs-list")[0].scrollIntoView()}),[n]),Object(j.jsxs)("div",{className:"process-logs-container",children:[Object(j.jsx)("h1",{children:"Logs"}),Object(j.jsxs)("div",{className:"process-logs-lists-container",children:[Object(j.jsx)("div",{className:"process-logs-list",children:n.filter((function(e){return"out"===e.channel})).map((function(e,t){return Object(j.jsx)(O,{data:e},t)}))}),Object(j.jsx)("div",{className:"process-logs-list",children:n.filter((function(e){return"err"===e.channel})).map((function(e,t){return Object(j.jsx)(O,{data:e},t)}))})]})]})}var m=n(42),p=n.n(m)()();n(86);var h=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(i.a)(s,2),l=a[0],d=a[1],O=Object(c.useState)([]),m=Object(i.a)(O,2),h=m[0],x=m[1];Object(c.useEffect)((function(){p.on("processes",r),p.on("log",(function(e){return d((function(t){return function(e,t){var n=!1;e=e.map((function(e){return(e=Object(u.a)({},e)).pid===t.pid&&e.channel===t.channel&&e.timestamp+2500>=t.timestamp&&e.data.split("\n").length<=10&&((t=Object(u.a)({},t)).data+=e.data,e=t,n=!0),e})),n||e.unshift(t);var c=e.filter((function(e){return e.pid===t.pid})).reduce((function(e,t){return e[t.channel].push(t),e[t.channel]=e[t.channel].slice(0,5),e}),{out:[],err:[]}),r=c.out,s=c.err;return e=e.filter((function(e){return e.pid!==t.pid})),[].concat(Object(o.a)(r),Object(o.a)(s),Object(o.a)(e)).sort((function(e,t){return e.timestamp-t.timestamp}))}(t,e)}))}))}),[]);var g=Object(c.useMemo)((function(){return h.length?l.filter((function(e){return h.includes(e.pid)})):l}),[l,h]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("main",{children:[Object(j.jsx)(b,{data:n,ids:h,onFilter:function(e){x((function(t){return t=t.includes(e)?t.filter((function(t){return t!==e})):[e].concat(Object(o.a)(t))}))}}),Object(j.jsx)(f,{data:g,ids:h})]}),Object(j.jsx)("footer",{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),x()}},[[87,1,2]]]);
//# sourceMappingURL=main.011f24f8.chunk.js.map