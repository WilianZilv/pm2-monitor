{"version":3,"sources":["components/Table/index.js","services/socketio.js","components/ProcessesTable/index.js","components/ProcessLogs/index.js","App.js","reportWebVitals.js","index.js"],"names":["Table","columns","data","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","className","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","style","render","row","getRowProps","cells","cell","getCellProps","client","socketio","PauseIcon","src","RestartIcon","ProcessesTable","ids","onFilter","React","useState","showDetails","setShowDetails","useMemo","Header","accessor","Cell","value","toFixed","minWidth","String","onClick","emit","values","pm_id","type","checked","includes","onChange","makeColumns","prev","sort","a","b","name","localeCompare","ListItem","isLast","autoScroll","ref","useRef","useEffect","current","scrollIntoView","behaviour","json","trim","startsWith","replaceAll","replace","JSON","parse","reduce","cur","Object","keys","Array","from","Set","x","error","channel","hideInfo","pname","time","showInfoBelow","setHideInfo","reverse","i","length","next","item","ProcessLogs","setAutoScroll","pause","setPause","out","setOut","err","setErr","filter","slice","id","App","processes","setProcesses","ologs","setoLogs","setids","setData","on","logs","pid","timestamp","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e94d6de0.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { useTable } from \"react-table\";\r\nimport \"./index.css\";\r\n\r\nexport default function Table({ columns, data }) {\r\n\tconst {\r\n\t\tgetTableProps,\r\n\t\tgetTableBodyProps,\r\n\t\theaderGroups,\r\n\t\trows,\r\n\t\tprepareRow,\r\n\t} = useTable({ columns, data });\r\n\r\n\tif (!columns || !data) return <></>;\r\n\treturn (\r\n\t\t// apply the table props\r\n\t\t<div className=\"table-wrapper\">\r\n\t\t\t<table {...getTableProps()}>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Loop over the header rows\r\n\t\t\t\t\t\theaderGroups.map((headerGroup) => (\r\n\t\t\t\t\t\t\t// Apply the header row props\r\n\t\t\t\t\t\t\t<tr {...headerGroup.getHeaderGroupProps()}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// Loop over the headers in each row\r\n\t\t\t\t\t\t\t\t\theaderGroup.headers.map((column) => (\r\n\t\t\t\t\t\t\t\t\t\t// Apply the header cell props\r\n\t\t\t\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\t\t\t\t{...column.getHeaderProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: column.style,\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Render the header\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolumn.render(\"Header\")\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</thead>\r\n\t\t\t\t{/* Apply the table body props */}\r\n\t\t\t\t<tbody {...getTableBodyProps()}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Loop over the table rows\r\n\t\t\t\t\t\trows.map((row) => {\r\n\t\t\t\t\t\t\t// Prepare the row for display\r\n\t\t\t\t\t\t\tprepareRow(row);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t// Apply the row props\r\n\t\t\t\t\t\t\t\t<tr {...row.getRowProps()}>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t// Loop over the rows cells\r\n\t\t\t\t\t\t\t\t\t\trow.cells.map((cell) => {\r\n\t\t\t\t\t\t\t\t\t\t\t// Apply the cell props\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td {...cell.getCellProps()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Render the cell contents\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcell.render(\"Cell\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import socketio from \"socket.io-client\";\r\n\r\nconst client = socketio();\r\nexport default client;\r\n","import React, { useMemo } from \"react\";\r\nimport Table from \"../Table\";\r\nimport CJSON from \"circular-json\";\r\nimport \"./index.css\";\r\nimport socketio from \"../../services/socketio\";\r\n\r\nconst PauseIcon = () => <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVUlEQVR4nO3RuQmAQBRFUUtRC3Jpz60Ay9MCjoEzMJkDgqB4wxO84P+i+F7oMaJKrMaELmdgdzYntgTbcgZia2JrxH/AMzfY7r6xxYAysSpYcznwvg5y9OGV904WaQAAAABJRU5ErkJggg==\"></img>\r\nconst RestartIcon = () => <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR4nJ2TTU4CQRCFaQIXgIU7RsDtxFu4hAN4BQIsTZCLcAAvwQYSj6AHUHdudKcrP/PgTZy0PcNPJZ3MdFd9XfWqutGoMeAKGAHXQKhyagIPwLq0Lnx2D3yxtzdgBrRTkDtgBfzYOYvO+8AC+AC2QDcGtIFH4D0FKPllwJMhf5kAc+ATuDGgV6NL5kymxUYAXlxvC7iVLgfEle/rTlj2CssGdUERYOiYXD9jKx1OAATHjAvA95mAUbmE/rklBA/J4gTA0sKHYmPm1mRHBF+65ZN4kLYekkqIg5+Bzb+R1ngaokzU52FUs9LWzQruVN2gTKYeEpmUVodkqnmSfEwJkITN/ZS19J1s8y+IDKVEPtYZ1AAAAABJRU5ErkJggg==\"></img>\r\n\r\nconst makeColumns = ({ ids, onFilter, showDetails }) => [\r\n\r\n\t...(showDetails ? [\r\n\r\n\t{\r\n\t\tHeader: \"RAM\",\r\n\t\taccessor: \"monit.memory\",\r\n\t\tCell: ({ value }) => (value / 1e6).toFixed(1) + \"MB\",\r\n\t\tstyle: {\r\n\t\t\tminWidth: 70,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tHeader: \"CPU\",\r\n\t\taccessor: \"monit.cpu\",\r\n\t\tCell: ({ value }) => String(value.toFixed(0)) + \"%\",\r\n\t\tstyle: {\r\n\t\t\tminWidth: 48,\r\n\t\t},\r\n\t},\r\n] : []),\r\n\r\n\t{\r\n\t\tHeader: \"\",\r\n\t\taccessor: \"stop\",\r\n\t\tCell: ({ row }) => (\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"process-table-button\"\r\n\t\t\t\tonClick={() => socketio.emit(\"stop\", row.values.pm_id)}\r\n\t\t\t>\r\n\t\t\t\t<PauseIcon/>\r\n\t\t\t</button>\r\n\t\t),\r\n\t},\r\n\t{\r\n\t\tHeader: \"\",\r\n\t\taccessor: \"restart\",\r\n\t\tCell: ({ row }) => (\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"process-table-button\"\r\n\t\t\t\tonClick={() => socketio.emit(\"restart\", row.values.pm_id)}\r\n\t\t\t>\r\n\t\t\t\t<RestartIcon/>\r\n\t\t\t</button>\r\n\t\t),\r\n\t},\r\n\r\n\r\n\t{ Header: \"\", accessor: \"pm_id\" },\r\n\r\n\t{\r\n\t\tHeader: \"NAME\",\r\n\t\taccessor: \"name\",\r\n\t},\r\n\t{\r\n\t\tHeader: \"\",\r\n\t\taccessor: \"pm2_env.status\",\r\n\t\tCell: ({ value }) => (\r\n\t\t\t<div className={\"status-col\"}>\r\n\t\t\t\t<span  className={`dot dot-${value}`}></span>\r\n\t\t\t</div>\r\n\t\t),\r\n\t},\r\n\t{\r\n\t\tHeader: \"LOGS\",\r\n\t\tCell: ({ row }) => (\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"checkbox\"\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tchecked={ids.includes(row.values.pm_id)}\r\n\t\t\t\tonChange={() => onFilter(row.values.pm_id)}\r\n\t\t\t/>\r\n\t\t),\r\n\t},\r\n\r\n];\r\n\r\nexport default function ProcessesTable({ data, ids, onFilter }) {\r\n\r\n\tconst [showDetails, setShowDetails] = React.useState(false);\r\n\r\n\r\n\r\n\tconst columns = useMemo(() => makeColumns({ ids, onFilter, showDetails }), [ids, showDetails]);\r\n\t//console.log(data)\r\n\treturn (\r\n\t\t<div className=\"processes-table-container\">\r\n\t\t\t<h3>Processos</h3>\r\n\t\t\t\t<button className=\"process-table-button\" onClick={() => setShowDetails(prev => !prev)}>\r\n\t\t\t\t\t{showDetails ? \"Ocultar detalhes\" : \"Mostrar detalhes\"}\r\n\t\t\t\t</button>\r\n\t\t\t<Table columns={columns} data={data.sort((a, b) => a.name.localeCompare(b.name))}></Table>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useEffect, useMemo, forwardRef, useRef } from \"react\";\r\nimport \"./index.css\";\r\nimport Table from \"../Table\";\r\n\r\nfunction ListItem({ data, isLast, autoScroll }) {\r\n\tconst ref = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isLast) return;\r\n\t\tif (!autoScroll) return;\r\n\t\tref.current.scrollIntoView({ behaviour: \"smooth\" });\r\n\t}, [ref, data, isLast, autoScroll]);\r\n\r\n\tconst value = useMemo(() => {\r\n\t\ttry {\r\n\t\t\tlet json = data.data.trim();\r\n\t\t\tif (json.startsWith(\"{'\") || json.startsWith(\"[{'\")) {\r\n\t\t\t\tjson = json.replaceAll(\"'\", '\"');\r\n\t\t\t}\r\n\r\n\t\t\tjson = json.replace(/\\bNone\\b/g, \"null\");\r\n\t\t\tjson = json.replace(/\\bNaN\\b/g, \"null\");\r\n\r\n\t\t\tjson = JSON.parse(json);\r\n\r\n\t\t\tlet columns = json.reduce(\r\n\t\t\t\t(prev, cur) => [...prev, ...Object.keys(cur)],\r\n\t\t\t\t[]\r\n\t\t\t);\r\n\t\t\tcolumns = Array.from(new Set(columns));\r\n\t\t\tcolumns = columns.map((x) => ({\r\n\t\t\t\tHeader: x,\r\n\t\t\t\taccessor: x,\r\n\t\t\t}));\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table columns={columns} data={json} />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} catch (error) {}\r\n\r\n\t\treturn <code className={`log-${data.channel}`}>{data.data}</code>;\r\n\t}, [data]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div ref={ref} className={\"process-logs-item\"}>\r\n\t\t\t\t{!data.hideInfo && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<center\r\n\t\t\t\t\t\t\tclassName={`process-logs-item-divider process-logs-item-divider-${data.channel}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<code\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\"process-logs-item-info \" + data.channel\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t[{data.pname}]\r\n\t\t\t\t\t\t\t</code>\r\n\t\t\t\t\t\t\t<code\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\"process-logs-item-info \" + data.channel\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t[{data.time}]\r\n\t\t\t\t\t\t\t</code>\r\n\t\t\t\t\t\t</center>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{value}\r\n\r\n\t\t\t\t{data.showInfoBelow && (\r\n\t\t\t\t\t<center className=\"process-logs-item-divider\">\r\n\t\t\t\t\t\t<code\r\n\t\t\t\t\t\t\tclassName={\"process-logs-item-info \" + data.channel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t[{data.pname}]\r\n\t\t\t\t\t\t</code>\r\n\r\n\t\t\t\t\t\t<code\r\n\t\t\t\t\t\t\tclassName={\"process-logs-item-info \" + data.channel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t[{data.time}]\r\n\t\t\t\t\t\t</code>\r\n\t\t\t\t\t</center>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction setHideInfo(data) {\r\n\tdata = data.reverse();\r\n\r\n\tfor (let i = 0; i < data.length - 1; i++) {\r\n\t\tif (i > data.length - 1) break;\r\n\r\n\t\tconst next = data[i + 1];\r\n\t\tconst item = { ...data[i] };\r\n\r\n\t\tif (item.pname == next.pname && item.channel === next.channel) {\r\n\t\t\titem.hideInfo = true;\r\n\t\t}\r\n\r\n\t\tif (i === 0) {\r\n\t\t\titem[\"showInfoBelow\"] = true;\r\n\t\t}\r\n\r\n\t\tdata[i] = item;\r\n\t}\r\n\r\n\treturn data.reverse();\r\n}\r\n\r\nexport default function ProcessLogs({ data }) {\r\n\tconst [autoScroll, setAutoScroll] = useState(true);\r\n\tconst [pause, setPause] = useState(false);\r\n\r\n\tconst [out, setOut] = useState([]);\r\n\tconst [err, setErr] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (pause) return;\r\n\r\n\t\tlet out = data.filter((x) => x.channel === \"out\").slice(-150);\r\n\t\tlet err = data.filter((x) => x.channel === \"err\").slice(-150);\r\n\r\n\t\tout = setHideInfo(out);\r\n\t\terr = setHideInfo(err);\r\n\r\n\t\tsetOut(out);\r\n\t\tsetErr(err);\r\n\t}, [data, pause]);\r\n\r\n\treturn (\r\n\t\t<div className=\"process-logs-container\">\r\n\t\t\t<h3>Logs</h3>\r\n\r\n\t\t\t<div className=\"process-logs-lists-container\">\r\n\t\t\t\t<div className=\"process-logs-list\">\r\n\t\t\t\t\t{out.map((x, i) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tisLast={i === out.length - 1}\r\n\t\t\t\t\t\t\tautoScroll={autoScroll}\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tdata={x}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"process-logs-list err\">\r\n\t\t\t\t\t{err.map((x, i) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tisLast={i === err.length - 1}\r\n\t\t\t\t\t\t\tautoScroll={autoScroll}\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tdata={x}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"process-logs-footer\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"autoScroll\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={autoScroll}\r\n\t\t\t\t\t\tonChange={() => setAutoScroll((x) => !x)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{\"\t\"}Scroll Automático\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"autoScroll\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={pause}\r\n\t\t\t\t\t\tonChange={() => setPause((x) => !x)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{\"\t\"}Pausar\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useEffect, useMemo } from \"react\";\r\nimport ProcessesTable from \"./components/ProcessesTable\";\r\nimport ProcessLogs from \"./components/ProcessLogs\";\r\nimport Terminal from \"./components/Terminal\";\r\n\r\nimport socketio from \"./services/socketio\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n\tconst [processes, setProcesses] = useState([]);\r\n\tconst [ologs, setoLogs] = useState({});\r\n\tconst [ids, setids] = useState([]);\r\n\tconst [data, setData] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocketio.on(\"processes\", setProcesses);\r\n\t\tsocketio.on(\"logs\", setoLogs);\r\n\t}, []);\r\n\r\n\tfunction onFilter(id) {\r\n\t\tsetids((ids) => {\r\n\t\t\tif (ids.includes(id)) {\r\n\t\t\t\tids = ids.filter((x) => x !== id);\r\n\t\t\t} else {\r\n\t\t\t\tids = [id, ...ids];\r\n\t\t\t}\r\n\t\t\treturn ids;\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet logs = Object.values(ologs);\r\n\r\n\t\tif (!logs.length) return setData([]);\r\n\r\n\t\tlogs = logs.reduce((prev, current) => [...prev, ...current]);\r\n\r\n\t\tif (ids.length) {\r\n\t\t\tlogs = logs.filter((x) => ids.includes(x.pid));\r\n\t\t}\r\n\r\n\t\tlogs = logs.sort((a, b) => a.timestamp - b.timestamp);\r\n\r\n\t\tsetData(logs);\r\n\t}, [ologs, ids]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ProcessesTable data={processes} ids={ids} onFilter={onFilter} />\r\n\t\t\t<ProcessLogs data={data} ids={ids} />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}