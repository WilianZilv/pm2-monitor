{"version":3,"sources":["components/Table/index.js","components/ProcessesTable/index.js","components/ProcessLogs/index.js","services/socketio.js","App.js","reportWebVitals.js","index.js"],"names":["Table","columns","data","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","ProcessesTable","pids","onFilter","useMemo","Header","accessor","Cell","value","toFixed","String","className","type","checked","includes","values","pid","onChange","makeColumns","ListItem","channel","pname","time","ProcessLogs","logs","slice","filter","x","i","socketio","App","useState","processes","setProcesses","setLogs","setPids","useEffect","on","state","log","reduce","item","push","out","err","sort","a","b","timestamp","handleLog","filteredLogs","length","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e285bfd.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport { useTable } from 'react-table'\r\n\r\nexport default function Table({ columns, data }) {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n  } = useTable({ columns, data })\r\n\r\n  if (!columns || !data) return <></>\r\n  return (\r\n    // apply the table props\r\n    <table {...getTableProps()}>\r\n      <thead>\r\n        {\r\n          // Loop over the header rows\r\n          headerGroups.map((headerGroup) => (\r\n            // Apply the header row props\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {\r\n                // Loop over the headers in each row\r\n                headerGroup.headers.map((column) => (\r\n                  // Apply the header cell props\r\n                  <th {...column.getHeaderProps()}>\r\n                    {\r\n                      // Render the header\r\n                      column.render('Header')\r\n                    }\r\n                  </th>\r\n                ))\r\n              }\r\n            </tr>\r\n          ))\r\n        }\r\n      </thead>\r\n      {/* Apply the table body props */}\r\n      <tbody {...getTableBodyProps()}>\r\n        {\r\n          // Loop over the table rows\r\n          rows.map((row) => {\r\n            // Prepare the row for display\r\n            prepareRow(row)\r\n            return (\r\n              // Apply the row props\r\n              <tr {...row.getRowProps()}>\r\n                {\r\n                  // Loop over the rows cells\r\n                  row.cells.map((cell) => {\r\n                    // Apply the cell props\r\n                    return (\r\n                      <td {...cell.getCellProps()}>\r\n                        {\r\n                          // Render the cell contents\r\n                          cell.render('Cell')\r\n                        }\r\n                      </td>\r\n                    )\r\n                  })\r\n                }\r\n              </tr>\r\n            )\r\n          })\r\n        }\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport Table from \"../Table\";\r\nimport CJSON from \"circular-json\";\r\nimport \"./index.css\";\r\n\r\nconst makeColumns = ({ pids, onFilter }) => [\r\n\t{ Header: \"PID\", accessor: \"pid\" },\r\n\t{\r\n\t\tHeader: \"Nome\",\r\n\t\taccessor: \"name\",\r\n\t},\r\n\t{\r\n\t\tHeader: \"RAM\",\r\n\t\taccessor: \"monit.memory\",\r\n\t\tCell: ({ value }) => (value / 1e6).toFixed(1) + \"MB\",\r\n\t},\r\n\t{\r\n\t\tHeader: \"CPU\",\r\n\t\taccessor: \"monit.cpu\",\r\n\t\tCell: ({ value }) => String(value) + \" %\",\r\n\t},\r\n\t{\r\n\t\tHeader: \"Status\",\r\n\t\taccessor: \"pm2_env.status\",\r\n\t\tCell: ({ value }) => (\r\n\t\t\t<div className={\"status-col\"}>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={`dot ${value === \"online\" ? value : \"\"}`}\r\n\t\t\t\t></span>\r\n\t\t\t</div>\r\n\t\t),\r\n\t},\r\n\t{\r\n\t\tHeader: \"Logs\",\r\n\t\tCell: ({ row }) => (\r\n\t\t\t<input\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tchecked={pids.includes(row.values.pid)}\r\n\t\t\t\tonChange={() => onFilter(row.values.pid)}\r\n\t\t\t/>\r\n\t\t),\r\n\t},\r\n];\r\n\r\nexport default function ProcessesTable({ data, pids, onFilter }) {\r\n\tconst columns = useMemo(() => makeColumns({ pids, onFilter }), [pids]);\r\n\treturn (\r\n\t\t<div className=\"processes-table-container\">\r\n\t\t\t<h1>Processos</h1>\r\n\t\t\t<Table columns={columns} data={data}></Table>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useEffect, useMemo } from \"react\";\r\nimport \"./index.css\";\r\n\r\nfunction ListItem({ data }) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={\"process-logs-item \" + data.channel}>\r\n\t\t\t\t<div className={\"process-logs-top-bar\"}>\r\n\t\t\t\t\t<strong className={\"process-logs-item-title\"}>\r\n\t\t\t\t\t\t{data.pname}:{\" \"}\r\n\t\t\t\t\t</strong>\r\n\r\n\t\t\t\t\t<strong>{data.time}</strong>\r\n\t\t\t\t</div>\r\n\t\t\t\t{data.data}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\nexport default function ProcessLogs({ data }) {\r\n\tconst logs = useMemo(() => {\r\n\t\tlet logs = [...data];\r\n\t\tlogs.slice(0, 100);\r\n\r\n\t\treturn logs;\r\n\t}, [data]);\r\n\treturn (\r\n\t\t<div className=\"process-logs-container\">\r\n\t\t\t<h1>Logs</h1>\r\n\t\t\t<div className=\"process-logs-lists-container\">\r\n\t\t\t\t<div className=\"process-logs-list\">\r\n\t\t\t\t\t{logs\r\n\t\t\t\t\t\t.filter((x) => x.channel === \"out\")\r\n\t\t\t\t\t\t.map((x, i) => (\r\n\t\t\t\t\t\t\t<ListItem key={i} data={x} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"process-logs-list\">\r\n\t\t\t\t\t{logs\r\n\t\t\t\t\t\t.filter((x) => x.channel === \"err\")\r\n\t\t\t\t\t\t.map((x, i) => (\r\n\t\t\t\t\t\t\t<ListItem key={i} data={x} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import socketio from \"socket.io-client\";\r\n\r\nexport default socketio();\r\n","import { useState, useEffect, useMemo } from \"react\";\r\nimport ProcessesTable from \"./components/ProcessesTable\";\r\nimport ProcessLogs from \"./components/ProcessLogs\";\r\nimport socketio from \"./services/socketio\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction handleLog(logs, log) {\r\n\tlogs = [log, ...logs];\r\n\tconst { out, err } = logs\r\n\t\t.filter((x) => x.pid === log.pid)\r\n\t\t.reduce(\r\n\t\t\t(data, item) => {\r\n\t\t\t\tdata[item.channel].push(item);\r\n\t\t\t\tdata[item.channel] = data[item.channel].slice(0, 50);\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\t\t\t{ out: [], err: [] }\r\n\t\t);\r\n\r\n\tlogs = logs.filter((x) => x.pid !== log.pid);\r\n\r\n\tlogs = [...out, ...err, ...logs].sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n\treturn logs;\r\n}\r\n\r\nfunction App() {\r\n\tconst [processes, setProcesses] = useState([]);\r\n\tconst [logs, setLogs] = useState([]);\r\n\tconst [pids, setPids] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocketio.on(\"processes\", setProcesses);\r\n\t\tsocketio.on(\"log\", (data) =>\r\n\t\t\tsetLogs((state) => handleLog(state, data))\r\n\t\t);\r\n\t}, []);\r\n\r\n\tconst filteredLogs = useMemo(() => {\r\n\t\tif (!pids.length) return logs;\r\n\r\n\t\treturn logs.filter((x) => pids.includes(x.pid));\r\n\t}, [logs, pids]);\r\n\r\n\tfunction onFilter(pid) {\r\n\t\tsetPids((pids) => {\r\n\t\t\tif (pids.includes(pid)) {\r\n\t\t\t\tpids = pids.filter((x) => x !== pid);\r\n\t\t\t} else {\r\n\t\t\t\tpids = [pid, ...pids];\r\n\t\t\t}\r\n\r\n\t\t\treturn pids;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<ProcessesTable data={processes} pids={pids} onFilter={onFilter} />\r\n\r\n\t\t\t<ProcessLogs data={filteredLogs} pids={pids} />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}