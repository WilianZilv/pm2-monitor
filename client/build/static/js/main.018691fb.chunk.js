(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(40),a=n.n(s),o=(n(47),n(8)),i=n(13),l=n(2),u=n(41),j=n(0);function d(e){var t=e.columns,n=e.data,c=Object(u.useTable)({columns:t,data:n}),r=c.getTableProps,s=c.getTableBodyProps,a=c.headerGroups,o=c.rows,i=c.prepareRow;return t&&n?Object(j.jsxs)("table",Object(l.a)(Object(l.a)({},r()),{},{children:[Object(j.jsx)("thead",{children:a.map((function(e){return Object(j.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps({style:e.style})),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(l.a)(Object(l.a)({},s()),{},{children:o.map((function(e){return i(e),Object(j.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})):Object(j.jsx)(j.Fragment,{})}n(52),n(53);function b(e){var t=e.data,n=e.ids,r=e.onFilter,s=Object(c.useMemo)((function(){return function(e){var t=e.ids,n=e.onFilter;return[{Header:"ID",accessor:"pm_id"},{Header:"Nome",accessor:"name"},{Header:"RAM",accessor:"monit.memory",Cell:function(e){return(e.value/1e6).toFixed(1)+"MB"},style:{width:84}},{Header:"CPU",accessor:"monit.cpu",Cell:function(e){var t=e.value;return String(t)+" %"},style:{width:64}},{Header:"Status",accessor:"pm2_env.status",Cell:function(e){var t=e.value;return Object(j.jsx)("div",{className:"status-col",children:Object(j.jsx)("span",{className:"dot ".concat("online"===t?t:"")})})}},{Header:"Logs",Cell:function(e){var c=e.row;return Object(j.jsx)("input",{className:"checkbox",type:"checkbox",checked:t.includes(c.values.pm_id),onChange:function(){return n(c.values.pm_id)}})}}]}({ids:n,onFilter:r})}),[n]);return Object(j.jsxs)("div",{className:"processes-table-container",children:[Object(j.jsx)("h1",{children:"Processos"}),Object(j.jsx)(d,{columns:s,data:t})]})}n(54);function O(e){var t=e.data,n=e.isLast,r=e.autoScroll,s=Object(c.useRef)();return Object(c.useEffect)((function(){n&&r&&s.current.scrollIntoView({behaviour:"smooth"})}),[s,t,n,r]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{ref:s,className:"process-logs-item "+t.channel,children:[Object(j.jsxs)("div",{className:"process-logs-top-bar",children:[Object(j.jsxs)("strong",{className:"process-logs-item-title",children:[t.pname,":"," "]}),Object(j.jsx)("strong",{children:t.time})]}),Object(j.jsx)("code",{children:t.data})]})})}function h(e){var t=e.data,n=Object(c.useState)(!0),r=Object(o.a)(n,2),s=r[0],a=r[1],i=Object(c.useMemo)((function(){return{out:t.filter((function(e){return"out"===e.channel})).slice(0,150),err:t.filter((function(e){return"err"===e.channel})).slice(0,150)}}),[t]),l=i.out,u=i.err;return Object(j.jsxs)("div",{className:"process-logs-container",children:[Object(j.jsx)("h1",{children:"Logs"}),Object(j.jsxs)("div",{className:"process-logs-lists-container",children:[Object(j.jsx)("div",{className:"process-logs-list",children:l.map((function(e,t){return Object(j.jsx)(O,{isLast:t===l.length-1,autoScroll:s,data:e},t)}))}),Object(j.jsx)("div",{className:"process-logs-list",children:u.map((function(e,t){return Object(j.jsx)(O,{isLast:t===u.length-1,autoScroll:s,data:e},t)}))})]}),Object(j.jsx)("div",{className:"process-logs-footer",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{id:"autoScroll",type:"checkbox",checked:s,onChange:function(){return a((function(e){return!e}))}}),"\t","Scroll Autom\xe1tico"]})})]})}var f=n(42),m=n.n(f)()();n(86);var p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),a=Object(o.a)(s,2),u=a[0],d=a[1],O=Object(c.useState)([]),f=Object(o.a)(O,2),p=f[0],x=f[1];Object(c.useEffect)((function(){m.on("processes",r),m.on("log",(function(e){return d((function(t){return function(e,t){var n=!1;e=e.map((function(e){return(e=Object(l.a)({},e)).pid===t.pid&&e.channel===t.channel&&e.timestamp+5e3>=t.timestamp&&e.data.split("\n").length<=32&&((t=Object(l.a)({},t)).data=e.data+t.data,t.timestamp=e.timestamp,e=t,n=!0),e})),n||e.unshift(t);var c=e.filter((function(e){return e.pid===t.pid})).reduce((function(e,t){return e[t.channel].push(t),e[t.channel]=e[t.channel].slice(0,150),e}),{out:[],err:[]}),r=c.out,s=c.err;return e=e.filter((function(e){return e.pid!==t.pid})),[].concat(Object(i.a)(r),Object(i.a)(s),Object(i.a)(e)).sort((function(e,t){return e.timestamp-t.timestamp}))}(t,e)}))}))}),[]);var g=Object(c.useMemo)((function(){return p.length?u.filter((function(e){return p.includes(e.pid)})):u}),[u,p]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("main",{children:[Object(j.jsx)(b,{data:n,ids:p,onFilter:function(e){x((function(t){return t=t.includes(e)?t.filter((function(t){return t!==e})):[e].concat(Object(i.a)(t))}))}}),Object(j.jsx)(h,{data:g,ids:p})]}),Object(j.jsx)("footer",{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root")),x()}},[[87,1,2]]]);
//# sourceMappingURL=main.018691fb.chunk.js.map