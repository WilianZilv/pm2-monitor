(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,c){},51:function(e,t,c){},54:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(40),a=c.n(r),o=(c(47),c(4)),i=c(2),l=c(3),u=c(41),j=(c(51),c(0));function d(e){var t=e.columns,c=e.data,n=Object(u.useTable)({columns:t,data:c}),s=n.getTableProps,r=n.getTableBodyProps,a=n.headerGroups,o=n.rows,i=n.prepareRow;return t&&c?Object(j.jsx)("div",{className:"table-wrapper",children:Object(j.jsxs)("table",Object(l.a)(Object(l.a)({},s()),{},{children:[Object(j.jsx)("thead",{children:a.map((function(e){return Object(j.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps({style:e.style})),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(l.a)(Object(l.a)({},r()),{},{children:o.map((function(e){return i(e),Object(j.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}):Object(j.jsx)(j.Fragment,{})}c(53),c(54);var b=c(42),O=c.n(b)()(),A=function(){return Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVUlEQVR4nO3RuQmAQBRFUUtRC3Jpz60Ay9MCjoEzMJkDgqB4wxO84P+i+F7oMaJKrMaELmdgdzYntgTbcgZia2JrxH/AMzfY7r6xxYAysSpYcznwvg5y9OGV904WaQAAAABJRU5ErkJggg=="})},m=function(){return Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR4nJ2TTU4CQRCFaQIXgIU7RsDtxFu4hAN4BQIsTZCLcAAvwQYSj6AHUHdudKcrP/PgTZy0PcNPJZ3MdFd9XfWqutGoMeAKGAHXQKhyagIPwLq0Lnx2D3yxtzdgBrRTkDtgBfzYOYvO+8AC+AC2QDcGtIFH4D0FKPllwJMhf5kAc+ATuDGgV6NL5kymxUYAXlxvC7iVLgfEle/rTlj2CssGdUERYOiYXD9jKx1OAATHjAvA95mAUbmE/rklBA/J4gTA0sKHYmPm1mRHBF+65ZN4kLYekkqIg5+Bzb+R1ngaokzU52FUs9LWzQruVN2gTKYeEpmUVodkqnmSfEwJkITN/ZS19J1s8y+IDKVEPtYZ1AAAAABJRU5ErkJggg=="})};function h(e){var t=e.data,c=e.ids,r=e.onFilter,a=s.a.useState(!1),l=Object(i.a)(a,2),u=l[0],b=l[1],h=Object(n.useMemo)((function(){return function(e){var t=e.ids,c=e.onFilter,n=e.showDetails;return[].concat(Object(o.a)(n?[{Header:"RAM",accessor:"monit.memory",Cell:function(e){return(e.value/1e6).toFixed(1)+"MB"},style:{minWidth:70}},{Header:"CPU",accessor:"monit.cpu",Cell:function(e){var t=e.value;return String(t.toFixed(0))+"%"},style:{minWidth:48}}]:[]),[{Header:"",accessor:"stop",Cell:function(e){var t=e.row;return Object(j.jsx)("button",{className:"process-table-button",onClick:function(){return O.emit("stop",t.values.pm_id)},children:Object(j.jsx)(A,{})})}},{Header:"",accessor:"restart",Cell:function(e){var t=e.row;return Object(j.jsx)("button",{className:"process-table-button",onClick:function(){return O.emit("restart",t.values.pm_id)},children:Object(j.jsx)(m,{})})}},{Header:"",accessor:"pm_id"},{Header:"NAME",accessor:"name"},{Header:"",accessor:"pm2_env.status",Cell:function(e){var t=e.value;return Object(j.jsx)("div",{className:"status-col",children:Object(j.jsx)("span",{className:"dot dot-".concat(t)})})}},{Header:"LOGS",Cell:function(e){var n=e.row;return Object(j.jsx)("input",{className:"checkbox",type:"checkbox",checked:t.includes(n.values.pm_id),onChange:function(){return c(n.values.pm_id)}})}}])}({ids:c,onFilter:r,showDetails:u})}),[c,u]);return Object(j.jsxs)("div",{className:"processes-table-container",children:[Object(j.jsx)("h3",{children:"Processos"}),Object(j.jsx)("button",{className:"process-table-button",onClick:function(){return b((function(e){return!e}))},children:u?"Ocultar detalhes":"Mostrar detalhes"}),Object(j.jsx)(d,{columns:h,data:t.sort((function(e,t){return e.name.localeCompare(t.name)}))})]})}c(86);function f(e){var t=e.data,c=e.isLast,s=e.autoScroll,r=Object(n.useRef)();Object(n.useEffect)((function(){c&&s&&r.current.scrollIntoView({behaviour:"smooth"})}),[r,t,c,s]);var a=Object(n.useMemo)((function(){try{var e=t.data.trim();(e.startsWith("{'")||e.startsWith("[{'"))&&(e=e.replaceAll("'",'"')),e=(e=e.replace(/\bNone\b/g,"null")).replace(/\bNaN\b/g,"null");var c=(e=JSON.parse(e)).reduce((function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(Object.keys(t)))}),[]);return c=(c=Array.from(new Set(c))).map((function(e){return{Header:e,accessor:e}})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{columns:c,data:e}),Object(j.jsx)("br",{})]})}catch(n){}return Object(j.jsx)("code",{className:"log-".concat(t.channel),children:t.data})}),[t]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{ref:r,className:"process-logs-item",children:[!t.hideInfo&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("center",{className:"process-logs-item-divider process-logs-item-divider-".concat(t.channel),children:[Object(j.jsxs)("code",{className:"process-logs-item-info "+t.channel,children:["[",t.pname,"]"]}),Object(j.jsxs)("code",{className:"process-logs-item-info "+t.channel,children:["[",t.time,"]"]})]})}),a,t.showInfoBelow&&Object(j.jsxs)("center",{className:"process-logs-item-divider",children:[Object(j.jsxs)("code",{className:"process-logs-item-info "+t.channel,children:["[",t.pname,"]"]}),Object(j.jsxs)("code",{className:"process-logs-item-info "+t.channel,children:["[",t.time,"]"]})]})]})})}function g(e){e=e.reverse();for(var t=0;t<e.length-1&&!(t>e.length-1);t++){var c=e[t+1],n=Object(l.a)({},e[t]);n.pname==c.pname&&n.channel===c.channel&&(n.hideInfo=!0),0===t&&(n.showInfoBelow=!0),e[t]=n}return e.reverse()}function p(e){var t=e.data,c=Object(n.useState)(!0),s=Object(i.a)(c,2),r=s[0],a=s[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)([]),O=Object(i.a)(b,2),A=O[0],m=O[1],h=Object(n.useState)([]),p=Object(i.a)(h,2),x=p[0],v=p[1];return Object(n.useEffect)((function(){if(!u){var e=t.filter((function(e){return"out"===e.channel})).slice(-150),c=t.filter((function(e){return"err"===e.channel})).slice(-150);e=g(e),c=g(c),m(e),v(c)}}),[t,u]),Object(j.jsxs)("div",{className:"process-logs-container",children:[Object(j.jsx)("h3",{children:"Logs"}),Object(j.jsxs)("div",{className:"process-logs-lists-container",children:[Object(j.jsx)("div",{className:"process-logs-list",children:A.map((function(e,t){return Object(j.jsx)(f,{isLast:t===A.length-1,autoScroll:r,data:e},t)}))}),Object(j.jsx)("div",{className:"process-logs-list err",children:x.map((function(e,t){return Object(j.jsx)(f,{isLast:t===x.length-1,autoScroll:r,data:e},t)}))})]}),Object(j.jsxs)("div",{className:"process-logs-footer",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{id:"autoScroll",type:"checkbox",checked:r,onChange:function(){return a((function(e){return!e}))}}),"\t","Scroll Autom\xe1tico"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{id:"autoScroll",type:"checkbox",checked:u,onChange:function(){return d((function(e){return!e}))}}),"\t","Pausar"]})]})]})}c(87);c(88);var x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)({}),a=Object(i.a)(r,2),l=a[0],u=a[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),A=b[0],m=b[1],f=Object(n.useState)([]),g=Object(i.a)(f,2),x=g[0],v=g[1];return Object(n.useEffect)((function(){O.on("processes",s),O.on("logs",u)}),[]),Object(n.useEffect)((function(){var e=Object.values(l);if(!e.length)return v([]);e=e.reduce((function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(t))})),A.length&&(e=e.filter((function(e){return A.includes(e.pid)}))),e=e.sort((function(e,t){return e.timestamp-t.timestamp})),v(e)}),[l,A]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{data:c,ids:A,onFilter:function(e){m((function(t){return t=t.includes(e)?t.filter((function(t){return t!==e})):[e].concat(Object(o.a)(t))}))}}),Object(j.jsx)(p,{data:x,ids:A})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),v()}},[[89,1,2]]]);
//# sourceMappingURL=main.e94d6de0.chunk.js.map